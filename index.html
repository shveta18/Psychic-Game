<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Psychic Game</title>
    <!-- link to bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

</head>

<body>
    <h1>The Psychic Game</h1>
    <div id="game">
        <p>Guess what letter I am thinking of?</p>
    </div>
    <div>Wins:<span id="wins">0</span></div>
    <div>Losses:<span id="losses">0</span></div>
    <div>Guesses Left:<span id="guesses-left">9</span></div>
    <div >Your Guesses so far:<span id="Guesses"></span></div>

    <script type="text/javascript">

        var letterChoices = ["a", "b", "c", "d", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];

        // initializing the variables for the start of a game
        var wins = 0;
        var losses = 0;
        var guessesLeft = 9;
        //user gudesses to be stored in an array to be displayed later
        var userGuess = [];

        document.onkeyup = function (event) {
            //As long as the user has 9 tries left, continue to push the values the user entered into the array
            if (guessesLeft > 0) {
                //determines which letter the computer chose
                var compPick = letterChoices[Math.floor(Math.random() * letterChoices.length)];
                console.log("Computer chose" + " " + compPick);
                var userPick = event.key
                console.log("User Guess is" + " " + userPick);

                // within this if statement if the user pick matches computer pick, add 1 to the win, and reset the guesses left back to 9
                if (userPick === compPick) {
                    console.log("MATCHED!!! MATTCHED!! MATCHEDDDDD!!!");
                    wins++;
                    guessesLeft = 9;
                    // if the user wins, reset the user entry array to empty
                    userGuess.length = 0;
                    console.log("Emptied the array to start over");
                    //display the total wins without resetting
                    document.getElementById("wins").innerHTML = wins;

                }
                //if the user pick doesn't match computer entry.  
                else {
                    console.log("the users guess did not match, here is what you chose: " + userGuess);
                    // push the value of the userPick variable to the array of userGuess and decrease the guesses left counter by 1
                    userGuess.push(userPick);
                    //display the values selected by the user
                    document.getElementById("Guesses").innerHTML = userGuess;
                    console.log(userGuess);
                    guessesLeft--;
                    document.getElementById("guesses-left").innerHTML = guessesLeft;
                    console.log("the guesses left are: " + guessesLeft);
                    // the code below is for when the user has reached the max tries, the game should reset. 
                    if (guessesLeft === 0) {
                        console.log("does ths work?");
                        userGuess.length = 0;
                        console.log("reset the user key array");
                        losses++;
                        document.getElementById("losses").innerHTML = losses;
                        guessesLeft = 9;
                        console.log("guesses have been reset after 9 tries. Game begins again");
                    };
                };

            };



        };












    </script>

</body>

</html>